{
  "id": 22,
  "globalId": "7cec7cc3-783c-4b01-92f3-cff8ac6089a9",
  "namespace": {
    "id": 1,
    "globalId": "f3a79976-57c8-4965-908b-4174d27a00fc",
    "name": "PAASysUpdates",
    "description": "",
    "isSystem": true
  },
  "name": "HotfixCount",
  "description": "Counts available hotfixes from Hotfixes table",
  "parser": "<parser><type>string</type><replace>false</replace><decodeHtml>false</decodeHtml></parser>",
  "defaultValue": "",
  "cacheTime": 0,
  "cacheLayer": "Global",
  "src": {
    "sql": "SELECT COUNT(PH.Id) AS HotfixCount\r\nFROM dbo.PlantAnApp_Updates_Hotfixes AS PH\r\nINNER JOIN Packages AS P ON P.FriendlyName = PH.DnnFriendlyName\r\nWHERE (\r\n   SELECT CASE WHEN convert(int, parsename(PH.Version, 3)) > convert(int, parsename(PH.InstalledVersion, 3)) THEN 'greater'  \r\n               WHEN convert(int, parsename(PH.Version, 3)) < convert(int, parsename(PH.InstalledVersion, 3)) THEN 'smaller'  \r\n               ELSE CASE   \r\n               WHEN convert(int, parsename(PH.Version, 2)) > convert(int, parsename(PH.InstalledVersion, 2)) THEN 'greater'  \r\n               WHEN convert(int, parsename(PH.Version, 2)) < convert(int, parsename(PH.InstalledVersion, 2)) THEN 'smaller'  \r\n               ELSE CASE   \r\n               WHEN convert(int, parsename(PH.Version, 1)) > convert(int, parsename(PH.InstalledVersion, 1)) THEN 'greater'  \r\n               WHEN convert(int, parsename(PH.Version, 1)) < convert(int, parsename(PH.InstalledVersion, 1)) THEN 'smaller'  \r\n               ELSE 'equal'  \r\n               END END END\r\n\t) = 'greater'",
    "defaultColumn": "",
    "columns": "",
    "connectionString": "",
    "type": "db"
  }
}